#!/usr/bin/env ruby

require 'bundler/setup'
Bundler.require
lib = File.expand_path('../../lib', __FILE__)
$LOAD_PATH.unshift(lib) unless $LOAD_PATH.include?(lib)
require 'mars'

input_file = ARGV.shift
begin
  File.open(input_file, 'r') do |file|
    Mars::Mission.dispatch(file.read)
  end
rescue StandardError => e
  raise 'Could not open input file %s: %s' % [input_file, e.to_s]
end
